
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>RP6502-VGA &#8212; RP6502 0.0-pre documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="RP6502-API" href="api.html" />
    <link rel="prev" title="RP6502-RIA" href="ria.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="rp6502-vga">
<h1>RP6502-VGA<a class="headerlink" href="#rp6502-vga" title="Permalink to this headline">¶</a></h1>
<p>Rumbledethumps Picocomputer 6502 Video Graphics Array.</p>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#introduction" id="id1">1. Introduction</a></p></li>
<li><p><a class="reference internal" href="#video-programming" id="id2">2. Video Programming</a></p></li>
<li><p><a class="reference internal" href="#backchannel" id="id3">3. Backchannel</a></p></li>
</ul>
</div>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id1">1. Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>The Video Graphics Array is a Raspberry Pi Pico with RP6502-VGA firmware. Its primary connection is to a <a class="reference internal" href="ria.html"><span class="doc">RP6502-RIA</span></a> over a 5-wire PIX bus. More than one VGA module can be put on a PIX bus. Note that all VGA modules share the same 64K of XRAM and only one module can generate frame numbers and vsync interrupts.</p>
</div>
<div class="section" id="video-programming">
<h2><a class="toc-backref" href="#id2">2. Video Programming</a><a class="headerlink" href="#video-programming" title="Permalink to this headline">¶</a></h2>
<p>This is the current implementation. This is leftovers from validating the PIX bus. The bitmap modes are 4 bpp starting at VRAM 0x0000 with a fixed palette of ANSI colors. This is being replaced with <a class="reference internal" href="rfc1.html"><span class="doc">RP6502-RFC1 Programmable Video Graphics Array</span></a></p>
<blockquote>
<div><table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 5%" />
<col style="width: 5%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Address</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>$0:00</p></td>
<td><p>MODE</p></td>
<td><dl class="simple">
<dt>Select a graphics mode.</dt><dd><ul class="simple">
<li><p>0 - 80 Column Terminal mode.</p></li>
<li><p>1 - 320x240 16 colors (4:3)</p></li>
<li><p>2 - 320x180 16 colors (16:9)</p></li>
</ul>
</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td><p>$F:FF</p></td>
<td><p>RESET</p></td>
<td><p>Always returns to terminal mode.</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="backchannel">
<h2><a class="toc-backref" href="#id3">3. Backchannel</a><a class="headerlink" href="#backchannel" title="Permalink to this headline">¶</a></h2>
<p>Because the PIX bus is unidirectional, it can’t be used for sending data from the VGA system back to the RIA. Using the UART Rx path is undesirable since there would be framing overhead or unusable control characters. Since there is a lot of unused bandwidth on the PIX bus, which is only used when the 6502 is writing to XRAM, it can be used for the UART Tx path allowing the UART Tx pin to switch directions.</p>
<p>This is not interesting to the 6502 programmer as it happens automatically. RIA Kernel developers can extend its usefulness. The backchannel is simply a UART implemented in PIO so it sends 8-bit values.</p>
<p>Values 0x00 to 0x7F are used to send a version string as ASCII terminated with a 0x0D or 0x0A. This must be sent immediately after the backchannel enable message is received for it to be displayed as part of the boot message. It may be updated any time after that and inspected with the STATUS CLI command, but currently there is no reason to do so.</p>
<p>When bit 0x80 is set, the 0x70 bits indicate the command type, and the 0x0F bits are a scalar for the command.</p>
<p>0x80 VSYNC - The scalar will increment and be used for the LSB of the RIA_VSYNC register.</p>
<p>0x90 OP_ACK - Some XREG locations are triggers for remote calls which may fail or take time to complete. This acknowledges a successful completion.</p>
<p>0xA0 OP_NAK - This acknowledges a failure.</p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">RP6502</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="hardware.html">Hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="ria.html">RIA</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">VGA</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#video-programming">2. Video Programming</a></li>
<li class="toctree-l2"><a class="reference internal" href="#backchannel">3. Backchannel</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="rfc.html">RFC</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="ria.html" title="previous chapter">RP6502-RIA</a></li>
      <li>Next: <a href="api.html" title="next chapter">RP6502-API</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023 Rumbledethumps.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/vga.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>